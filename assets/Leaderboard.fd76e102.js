var g=Object.defineProperty,x=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var h=(e,t,s)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(e,t)=>{for(var s in t||(t={}))b.call(t,s)&&h(e,s,t[s]);if(m)for(var s of m(t))y.call(t,s)&&h(e,s,t[s]);return e},_=(e,t)=>x(e,f(t));import"./lodash.aecff783.js";import{E as v,L as w,j as d,k as c,l as r,m as i,z as R,K as L,F as k,x as S,G as M,M as B,N as C}from"./index.7ad2c29c.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";const T={data(){return{search:"",testResults:[],allresult:[],results:[]}},methods:{modeltestResults(){fetch(`${v}?type=examlist&id=${this.$route.params.id}`).then(e=>e.json()).then(e=>{this.url="https://script.google.com/macros/s/AKfycbxHZMx1M1oGvp-wPb7mHwQrfkDBpkS3BG0WtciUJ_HHJTswLgJ2Ba4f8XBLNHOkjYEERQ/exec?sheet="+e.exam.exam.substr(39,44),fetch(this.url).then(t=>t.json()).then(t=>{let s=t;this.testResults=s.map(a=>_(u({},a),{attempt:a.attempt||1})).sort((a,l)=>l.score-a.score||a.duration-l.duration).sort((a,l)=>a.attempt-l.attempt).map((a,l)=>u({position:l+1},a)),this.allresult=this.testResults,setTimeout(()=>{location.hash=`#${this.user.roll}`},1e3)})})},millisToMinutesAndSeconds(e){var t=Math.floor(e/6e4),s=(e%6e4/1e3).toFixed(0);return t+":"+(s<10?"0":"")+s},searchResult(){this.testResults=this.allresult.filter(e=>{if(e.name.toLowerCase().includes(this.search.toLowerCase())||e.college.toLowerCase().includes(this.search.toLowerCase()))return e})},getStyle(e){return e==1?"success":e==2?"orange darken-2":e==3?"indigo":""},getborderStyle(e){let t={1:"s singleResult mb-2",2:"f singleResult mb-2",3:"d singleResult mb-2"};return t[e]?t[e]:"singleResult mb-2"}},created(){this.modeltestResults(),window.scrollTo(0,0)},computed:{user(){return w.state.user}}},H=e=>(B("data-v-b51a7c0a"),e=e(),C(),e),A={class:"leaderboard"},D={class:"my-4 text-3xl font-bold text-center text-gray-900 dark:text-white"},E={class:"p-5 mx-1 rounded md:w-1/2 md:mx-auto bg-gray-50"},I={class:"form-control"},N={class:"mt-4"},F={key:0},G=["id"],J={class:"flex items-center justify-center w-10 h-10 font-semibold text-white rounded-full bg-gradient-to-t from-indigo-400 to-indigo-600"},K={class:"flex-1 ml-2 text-gray-900 md:ml-4"},Q={class:"text-lg font-semibold"},z={class:"text-sm text-gray-500"},U={class:"p-2 text-gray-900 border-2 border-blue-400"},V={key:1,class:"text-center"},$=H(()=>r("button",{class:"btn loader btn-primary"},"Loading...",-1)),O=[$];function P(e,t,s,a,l,n){return d(),c("div",A,[r("div",null,[r("h1",D,"MCQ Leaderboard-"+i(this.$route.params.id),1),r("div",E,[r("div",I,[R(r("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.search=o),placeholder:"Search by Name/College",onKeyup:t[1]||(t[1]=(...o)=>n.searchResult&&n.searchResult(...o)),class:"input input-primary input-bordered"},null,544),[[L,l.search]])]),r("div",N,[l.allresult.length>0?(d(),c("div",F,[(d(!0),c(k,null,S(l.testResults,(o,p)=>(d(),c("div",{key:p,id:o.reg,class:M(`${n.getborderStyle(o.position)} flex justify-between items-center p-5   rounded  shadow-md ${o.reg==n.user.roll?"bg-green-200":""}`),style:{"scroll-margin":"100px"}},[r("span",J,i(o.position),1),r("div",K,[r("h2",Q,i(o.name),1),r("p",null,i(o.college),1),r("p",z," Attempts: "+i(o.attempt)+", Duration: "+i(n.millisToMinutesAndSeconds(o.duration))+" minutes ",1)]),r("div",U,i(o.score),1)],10,G))),128))])):(d(),c("div",V,O))])])])])}var q=j(T,[["render",P],["__scopeId","data-v-b51a7c0a"]]);export{q as default};
